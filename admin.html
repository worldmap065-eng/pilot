<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <title>Pilot Studio | Canvas Engine</title>
Â  Â  <link href="https://fonts.googleapis.com/css2?family=SF+Pro+Display:wght@300;400;600;700&display=swap" rel="stylesheet">
Â  Â  <style>
Â  Â  Â  Â  :root { --apple-blue: #0071e3; --bg: #0b0b0c; --panel: #1c1c1e; --border: rgba(255,255,255,0.1); }
Â  Â  Â  Â  * { box-sizing: border-box; font-family: 'SF Pro Display', sans-serif; }
Â  Â  Â  Â  body { margin: 0; background: var(--bg); color: white; display: flex; flex-direction: column; height: 100vh; overflow: hidden; }

Â  Â  Â  Â  /* Top Bar & Tabs */
Â  Â  Â  Â  .top-nav {Â 
Â  Â  Â  Â  Â  Â  height: 50px; background: #000; border-bottom: 1px solid var(--border);Â 
Â  Â  Â  Â  Â  Â  display: flex; align-items: flex-end; padding: 0 20px; gap: 5px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .tab {Â 
Â  Â  Â  Â  Â  Â  padding: 8px 20px; background: #1c1c1e; border-radius: 10px 10px 0 0;Â 
Â  Â  Â  Â  Â  Â  font-size: 13px; color: #86868b; cursor: pointer; transition: 0.2s; border: 1px solid var(--border); border-bottom: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .tab.active { background: var(--apple-blue); color: white; border-color: var(--apple-blue); }

Â  Â  Â  Â  /* Main Layout */
Â  Â  Â  Â  .studio-container { flex: 1; display: flex; overflow: hidden; }

Â  Â  Â  Â  /* Sidebar - Assets */
Â  Â  Â  Â  .sidebar {Â 
Â  Â  Â  Â  Â  Â  width: 260px; background: var(--panel); border-left: 1px solid var(--border);
Â  Â  Â  Â  Â  Â  padding: 20px; display: flex; flex-direction: column; gap: 20px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .asset-item {Â 
Â  Â  Â  Â  Â  Â  padding: 15px; background: rgba(255,255,255,0.03); border: 1px solid var(--border);
Â  Â  Â  Â  Â  Â  border-radius: 12px; cursor: grab; font-size: 14px; text-align: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .asset-item:hover { border-color: var(--apple-blue); background: rgba(255,255,255,0.08); }

Â  Â  Â  Â  /* Canvas Area */
Â  Â  Â  Â  .canvas-wrapper {Â 
Â  Â  Â  Â  Â  Â  flex: 1; position: relative; background: #111; display: flex;Â 
Â  Â  Â  Â  Â  Â  justify-content: center; align-items: center; overflow: auto; padding: 50px;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* ×”××©×˜×— ×©×¢×œ×™×• ××©×—×§×™× */
Â  Â  Â  Â  .artboard {
Â  Â  Â  Â  Â  Â  width: 1000px; min-height: 1200px; background: white; border-radius: 2px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 50px 100px rgba(0,0,0,0.5); position: relative; transform-origin: top center;
Â  Â  Â  Â  }

Â  Â  Â  Â  /* ×¡×¨×’×œ ×›×œ×™× ×¦×£ (×¦××•×“ ×œ××œ×× ×˜) */
Â  Â  Â  Â  #element-tools {
Â  Â  Â  Â  Â  Â  position: absolute; background: #2c2c2e; padding: 5px; border-radius: 8px;
Â  Â  Â  Â  Â  Â  display: none; gap: 8px; box-shadow: 0 10px 20px rgba(0,0,0,0.4); z-index: 1000;
Â  Â  Â  Â  Â  Â  border: 1px solid #444; align-items: center;
Â  Â  Â  Â  }
Â  Â  Â  Â  .tool-icon {Â 
Â  Â  Â  Â  Â  Â  width: 30px; height: 30px; display: flex; align-items: center; justify-content: center;
Â  Â  Â  Â  Â  Â  cursor: pointer; border-radius: 5px; transition: 0.2s; font-size: 16px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .tool-icon:hover { background: #444; }

Â  Â  Â  Â  /* ×›×¤×ª×•×¨ ×©××™×¨×” */
Â  Â  Â  Â  .save-btn {
Â  Â  Â  Â  Â  Â  position: fixed; bottom: 30px; left: 30px; padding: 15px 35px;
Â  Â  Â  Â  Â  Â  background: white; color: black; border-radius: 30px; font-weight: 700;
Â  Â  Â  Â  Â  Â  cursor: pointer; box-shadow: 0 10px 30px rgba(0,0,0,0.3); border: none;
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>

<nav class="top-nav" id="tabs-container">
Â  Â  <div class="tab active" onclick="switchTab('index.html', this)">Home</div>
Â  Â  <div class="tab" onclick="addPageTab()">+ New Page</div>
</nav>

<div class="studio-container">
Â  Â  <aside class="sidebar">
Â  Â  Â  Â  <div style="color: #86868b; font-size: 11px; font-weight: 700; text-transform: uppercase;">Library</div>
Â  Â  Â  Â  <div class="asset-item" draggable="true" ondragstart="event.dataTransfer.setData('type', 'h1')">Title</div>
Â  Â  Â  Â  <div class="asset-item" draggable="true" ondragstart="event.dataTransfer.setData('type', 'p')">Paragraph</div>
Â  Â  Â  Â  <div class="asset-item" draggable="true" ondragstart="event.dataTransfer.setData('type', 'button')">Button</div>
Â  Â  </aside>

Â  Â  <main class="canvas-wrapper">
Â  Â  Â  Â  <div id="artboard" class="artboard">
Â  Â  Â  Â  Â  Â  </div>
Â  Â  </main>
</div>

<div id="element-tools">
Â  Â  <div class="tool-icon" title="Link" onclick="promptLink()">ğŸ”—</div>
Â  Â  <div class="tool-icon" title="Color" onclick="document.getElementById('color-picker').click()">ğŸ¨</div>
Â  Â  <div class="tool-icon" title="Delete" onclick="deleteActiveElement()" style="color:#ff3b30;">ğŸ—‘ï¸</div>
Â  Â  <input type="color" id="color-picker" style="display:none;" oninput="changeColor(this.value)">
</div>

<button class="save-btn" onclick="saveWork()">Publish Live</button>

<script>
Â  Â  let activeElement = null;

Â  Â  // ×¤×•× ×§×¦×™×™×ª ×’×¨×™×¨×ª ××œ×× ×˜×™× ×—×“×©×™× ×œ××¡×š
Â  Â  const artboard = document.getElementById('artboard');
Â  Â  artboard.ondragover = (e) => e.preventDefault();
Â  Â  artboard.ondrop = (e) => {
Â  Â  Â  Â  const type = e.dataTransfer.getData('type');
Â  Â  Â  Â  const el = document.createElement(type === 'button' ? 'button' : type);
Â  Â  Â  Â  el.innerText = "New " + type;
Â  Â  Â  Â  el.style.position = "absolute";
Â  Â  Â  Â  el.style.left = e.offsetX + "px";
Â  Â  Â  Â  el.style.top = e.offsetY + "px";
Â  Â  Â  Â  el.style.cursor = "move";
Â  Â  Â  Â  if(type === 'button') {
Â  Â  Â  Â  Â  Â  el.style.padding = "12px 24px";
Â  Â  Â  Â  Â  Â  el.style.background = "#0071e3";
Â  Â  Â  Â  Â  Â  el.style.color = "white";
Â  Â  Â  Â  Â  Â  el.style.border = "none";
Â  Â  Â  Â  Â  Â  el.style.borderRadius = "20px";
Â  Â  Â  Â  }
Â  Â  Â  Â  makeDraggable(el);
Â  Â  Â  Â  artboard.appendChild(el);
Â  Â  };

Â  Â  // ×”×¤×™×›×ª ××œ×× ×˜ ×œ× ×™×ª×Ÿ ×œ×”×–×–×” (×›××• ×ª××•× ×”) ×•×œ×¢×¨×™×›×”
Â  Â  function makeDraggable(el) {
Â  Â  Â  Â  let isDragging = false;
Â  Â  Â  Â Â 
Â  Â  Â  Â  el.addEventListener('mousedown', (e) => {
Â  Â  Â  Â  Â  Â  if (e.target.contentEditable === "true") return;
Â  Â  Â  Â  Â  Â  isDragging = true;
Â  Â  Â  Â  Â  Â  activeElement = el;
Â  Â  Â  Â  Â  Â  showTools(el);
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  let shiftX = e.clientX - el.getBoundingClientRect().left;
Â  Â  Â  Â  Â  Â  let shiftY = e.clientY - el.getBoundingClientRect().top;

Â  Â  Â  Â  Â  Â  function moveAt(pageX, pageY) {
Â  Â  Â  Â  Â  Â  Â  Â  el.style.left = (pageX - artboard.getBoundingClientRect().left - shiftX) + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  el.style.top = (pageY - artboard.getBoundingClientRect().top - shiftY) + 'px';
Â  Â  Â  Â  Â  Â  Â  Â  showTools(el); // ×”×¡×¨×’×œ ×¢×•×§×‘ ××—×¨×™ ×”××œ×× ×˜
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function onMouseMove(e) { if(isDragging) moveAt(e.pageX, e.pageY); }
Â  Â  Â  Â  Â  Â  document.addEventListener('mousemove', onMouseMove);

Â  Â  Â  Â  Â  Â  el.onmouseup = () => {
Â  Â  Â  Â  Â  Â  Â  Â  isDragging = false;
Â  Â  Â  Â  Â  Â  Â  Â  document.removeEventListener('mousemove', onMouseMove);
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  });

Â  Â  Â  Â  el.addEventListener('dblclick', () => {
Â  Â  Â  Â  Â  Â  el.contentEditable = true;
Â  Â  Â  Â  Â  Â  el.focus();
Â  Â  Â  Â  });

Â  Â  Â  Â  el.onblur = () => el.contentEditable = false;
Â  Â  Â  Â  el.ondragstart = () => false;
Â  Â  }

Â  Â  function showTools(el) {
Â  Â  Â  Â  const tools = document.getElementById('element-tools');
Â  Â  Â  Â  const rect = el.getBoundingClientRect();
Â  Â  Â  Â  tools.style.display = 'flex';
Â  Â  Â  Â  tools.style.top = (window.scrollY + rect.top - 45) + 'px';
Â  Â  Â  Â  tools.style.left = (window.scrollX + rect.left) + 'px';
Â  Â  }

Â  Â  function promptLink() {
Â  Â  Â  Â  const url = prompt("Enter URL:", activeElement.dataset.link || "https://");
Â  Â  Â  Â  if(url) activeElement.dataset.link = url;
Â  Â  }

Â  Â  function changeColor(color) {
Â  Â  Â  Â  if(activeElement) {
Â  Â  Â  Â  Â  Â  if(activeElement.tagName === 'BUTTON') activeElement.style.backgroundColor = color;
Â  Â  Â  Â  Â  Â  else activeElement.style.color = color;
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function deleteActiveElement() {
Â  Â  Â  Â  if(activeElement && confirm('Delete?')) {
Â  Â  Â  Â  Â  Â  activeElement.remove();
Â  Â  Â  Â  Â  Â  document.getElementById('element-tools').style.display = 'none';
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function addPageTab() {
Â  Â  Â  Â  const name = prompt("Page Name:");
Â  Â  Â  Â  if(name) {
Â  Â  Â  Â  Â  Â  const tabs = document.getElementById('tabs-container');
Â  Â  Â  Â  Â  Â  const newTab = document.createElement('div');
Â  Â  Â  Â  Â  Â  newTab.className = 'tab';
Â  Â  Â  Â  Â  Â  newTab.innerText = name;
Â  Â  Â  Â  Â  Â  newTab.onclick = () => switchTab(name, newTab);
Â  Â  Â  Â  Â  Â  tabs.insertBefore(newTab, tabs.lastElementChild);
Â  Â  Â  Â  }
Â  Â  }

Â  Â  function switchTab(name, el) {
Â  Â  Â  Â  document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
Â  Â  Â  Â  el.classList.add('active');
Â  Â  Â  Â  // ×›××Ÿ ×ª×•×¡×™×£ ×œ×•×’×™×§×” ×œ×˜×¢×™× ×ª ×ª×•×›×Ÿ ×”×“×£ ×”×¡×¤×¦×™×¤×™
Â  Â  Â  Â  alert("Switching to: " + name);
Â  Â  }

Â  Â  function saveWork() {
Â  Â  Â  Â  alert("ğŸš€ Published! Your site is live.");
Â  Â  }

Â  Â  // ×”×¤×™×›×ª ××œ×× ×˜×™× ×§×™×™××™× ×œ-Draggable ×‘×˜×¢×™× ×”
Â  Â  window.onload = () => {
Â  Â  Â  Â  document.querySelectorAll('#artboard *').forEach(makeDraggable);
Â  Â  };
</script>

</body>
</html>
